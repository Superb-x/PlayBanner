<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div1{width: 100px;height: 100px;background: red;position: absolute;left: 0;top: 0;}
        #div2{width: 100px;height: 100px;background: deepskyblue;position: absolute;left: 0;top: 200px}

    </style>
    <script src="base.js"></script>
</head>
<body>
<div id="div1"></div>
<div id="div2"></div>

<script>
    var oDiv1 = document.getElementById("div1");
    var oDiv2 = document.getElementById("div2");
    var timer;

    /*fnMove(oDiv1,"left",500);
    fnMove(oDiv1,"top",500);

    function fnMove(obj,attr,target) {
        var timer = null;
        timer = setInterval(function () {
            var iL = parseInt(window.getComputedStyle(oDiv1,null)["left"]);
            var iSpeed = (target - iL)/10;
            iSpeed = Math.ceil(iSpeed);
            obj.style[attr] = iL + iSpeed + "px";
            if (iL + iSpeed >= target){
                clearInterval(timer);
            }
        },50)
    }*/

    var oDiv1 = $("div1");

    var obj = {
        left:400,
        top:400,
        width:200,
        height:200
    }

    fnMove(oDiv1,obj)
    function fnMove(obj,json) {
        var timer = null;
        timer = setInterval(function () {
            for(var attr in json){
                console.log(attr);//
                console.log(json[attr]);
                var iCur = parseInt(window.getComputedStyle(obj,null)[attr]);
                console.log(iCur);
                var iSpeed = (json[attr] - iCur)/6;
                //给速度取整
                iSpeed = iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);

                if(iSpeed == 0){
                    clearInterval(timer);
                }else{
                    obj.style[attr] = iCur + iSpeed + "px";
                }
            }
        },30)






    }

</script>
</body>
</html>